# 一个小型的分布式搜索引擎
## Client
与master和slave交互
### 职责
#### 写
1. 根据分片信息写分片数据，写primary shard
获得主备分片所在节点，向所在节点写数据
2. 主动感知分片异常情况
写主分片异常时，重新获取分片信息，如果分片异常终止写入
#### 搜
1. 根据索引选择合适的分片进行搜索
2. 汇聚搜索结果合并
## Master
### 职责
1. 维持与slave的心跳
2. 选举主分片
3. 分配分片
## Slave
### 职责
1. 索引管理
2. 文档source管理
3. 向master发送分片健康状态信息
4. 向backup shard同步数据
## zookeeper storage
/node/
